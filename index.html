<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
body{ background:linear-gradient(#999,#fff); overflow-y:hidden;}
#turn{ width:280px; height:70px; background:-webkit-linear-gradient(red,#ff004f); position:absolute; top:50%; left:50%; margin-left:-140px; margin-top:-50px; border-radius:10px; text-align:center;  font:bold 20px '微软雅黑'; line-height:70px; text-decoration:none; color:#fff; box-shadow:0 10px 5px #333; text-shadow:2px 2px 2px #000; transition:0.3s all ease;}
#turn:hover{ box-shadow:0px 10px 5px #333,inset 0 0 10px #fff; font-size:30px;}
#turn:active{ margin-top:-40px; box-shadow:0px 2px 5px #000;}
@keyframes test{
	from:{left:-113px;}
	to{left:-226px;}	
}
@keyframes test2{
	from:{left:113px;}
	to{left:0;}	
}
.l_box{position:relative; height:677px; }
.b_box{ position:absolute; left:50%; top:50%; margin-left:-195px; margin-top:-50px;}
.box{ position:absolute; left:0; top:0; width:40px; height:70px; border:5px solid #bbb; overflow:hidden; border-radius:10px;}
.box2{left:340px; }
.box div{ position:absolute; left:-113px; top:0; width:400px; height:400px; background:-webkit-repeating-linear-gradient(-45deg,red 0px,red 10px,#fff 10px,#fff 20px,blue 20px,blue 30px,#fff 30px,#fff 40px);
	-webkit-animation-name:test;
	-webkit-animation-duration:1s;
	-webkit-animation-timing-function:linear;
	-webkit-animation-iteration-count:infinite;
}
.box1 div{
	-webkit-animation-name:test2;
}
.btn_txt{ font:bold 16px '微软雅黑'; margin-left:10px; margin-right:100px; color:#FFFFFF; text-shadow:1px 1px 0px #333;}
#btn_txt2{ color:#000000;}
.a_box{position:absolute; left:50%; top:50%; margin-left:-195px; margin-top:-120px;}
.long_box{position:absolute; left:0; top:30px; width:385px; height:30px; border:2px solid #ccc; overflow:hidden; border-radius:20px;}
.long_box div{ position:absolute; left:-113px; top:0; width:800px; height:400px; background:-webkit-repeating-linear-gradient(-45deg,#FFFFFF 0px,#FFFFFF 10px,#000000 10px,#000000 20px,#FFFFFF 20px,#FFFFFF 30px,#000000 30px,#000000 40px);
	-webkit-animation-name:test;
	-webkit-animation-duration:1s;
	-webkit-animation-timing-function:linear;
	-webkit-animation-iteration-count:infinite;
}
.long_box1 div{
	-webkit-animation-name:test2;
}
</style>
<script>
window.onload=function(){
	document.body.style.height = document.documentElement.clientHeight + 'px';
	var d = 0;
	var bOk = true;
	setInterval(function(){
		if(bOk){
			d++;
		}else{
			d--;
		}
		document.body.style.background = 'linear-gradient('+d+'deg,#999,#fff)';	
	},30);	
	
	var oTurn = document.getElementById('turn');
	var aDiv = document.querySelectorAll('.box');
	var oDiv = document.querySelector('.long_box');
	oTurn.onmouseup=function(){
		bOk = !bOk;	
		for(var i = 0;i<aDiv.length;i++){
			aDiv[i].classList.toggle('box1');
		}
		oDiv.classList.toggle('long_box1');
	};
	
	var aColBtn = document.querySelectorAll('.a_box input');
	var aSpan = document.querySelectorAll('.a_box span');
	var lDiv = document.querySelector('.long_box div');
	var arr = ['#FFFFFF','#000000'];
	for(var i = 0;i<aColBtn.length;i++){
		(function(index){
			aColBtn[i].onchange = function(){
				arr[index] = aSpan[index].innerHTML = aSpan[index].style.color = aColBtn[index].value.toUpperCase();	
				lDiv.style.background = '-webkit-repeating-linear-gradient(-45deg,'+arr[0]+' 0px,'+arr[0]+' 10px,'+arr[1]+' 10px,'+arr[1]+' 20px,'+arr[0]+' 20px,'+arr[0]+' 30px,'+arr[1]+' 30px,'+arr[1]+' 40px)'; 
			};	
		})(i);
	}
};	
</script>
</head>

<body>
<div class="l_box">
	<div class="a_box">
    	<input type="color" value="#FFFFFF">
        <span class="btn_txt">#FFFFFF</span>
    	<input type="color" value="#000000" >
        <span class="btn_txt">#000000</span>
        <div class="long_box">
        	<div></div>
        </div>
    </div>
    <a href="javascript:;" id="turn">反转</a>
    <div class="b_box">
        <div class="box">
            <div></div>
        </div>
        <div class="box box2">
            <div></div>
        </div>
    </div>
</div>
</body>
</html>
